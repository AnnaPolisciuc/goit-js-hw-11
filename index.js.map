{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = \"51798478-5201f32441bd2af0c91072e2d\";\naxios.defaults.baseURL = 'https://pixabay.com/api/';\n\nexport async function getImagesByQuery(query) {\n    const response = await axios.get(\"\", {params: {\n    key: API_KEY,\n    q: query,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: true,\n    },\n});\nreturn response.data;\n}\n\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst galleryContainer = document.querySelector('.gallery'); \n\nlet lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n});\n\nexport function renderPhotos(photos) {\n    \n    const markup = photos.map(photo => {\n        const { webformatURL, largeImageURL, tags, likes, views, comments, downloads } = photo;\n        const tagsText = tags.split(', ').join(', ');\n        const photoMarkup = \n    `<li class=\"photo-card\">\n    <a href=\"${largeImageURL}\">\n    <img src=\"${webformatURL}\" alt=\"${tags}\" />\n    </a>\n    <div class=\"photo-info\">\n        <p>Tags: ${tagsText}</p>\n        <p>Likes: ${likes}</p>\n        <p>Views: ${views}</p>\n        <p>Comments: ${comments}</p>\n        <p>Downloads: ${downloads}</p>\n    </div>\n</li>\n`;\nreturn photoMarkup;\n   }).join('');\n\n    galleryContainer.innerHTML = markup;\n    lightbox.refresh();\n} \n\nexport function clearGallery() {\n    galleryContainer.innerHTML = '';\n}\n\nexport function showLoader() {\n    document.querySelector('.loader').classList.remove('hidden');\n}\n\nexport function hideLoader() {\n    document.querySelector('.loader').classList.add('hidden');\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\"; \nimport { getImagesByQuery } from \"./js/pixabay-api\";\nimport { clearGallery, renderPhotos, hideLoader, showLoader } from \"./js/render-functions\";\n\nconst form = document.querySelector('.form');\nconst input = form.elements['search-text'];\n\nform.addEventListener('submit', async event => {\n    event.preventDefault();\n\n    const query = input.value.trim();\n \n    if (!query) {\n        iziToast.error({\n            title: 'Error',\n            message: 'The search box is empty. Try again!',\n        })\n    return;\n    }\n    try {\n        clearGallery();\n        showLoader();\n        const data = await getImagesByQuery(query);\n\n        if (data.hits.length === 0) {\n            iziToast.warning({\n                title: 'Oops',\n                message: 'No images found. Try another query!'\n            });\n            return;\n        }\n        console.log(data.hits);\n        renderPhotos(data.hits);\n    } catch (error) {\n        iziToast.error ({\n            title: 'Error',\n            message: 'Samething went wrong. Please try again later.'\n        });\n    } finally {\n        hideLoader();\n    }\n});\n\n"],"names":["API_KEY","axios","getImagesByQuery","query","galleryContainer","lightbox","SimpleLightbox","renderPhotos","photos","markup","photo","webformatURL","largeImageURL","tags","likes","views","comments","downloads","tagsText","clearGallery","showLoader","hideLoader","form","input","event","iziToast","data"],"mappings":"+vBAEA,MAAMA,EAAU,qCAChBC,EAAM,SAAS,QAAU,2BAElB,eAAeC,EAAiBC,EAAO,CAS9C,OARqB,MAAMF,EAAM,IAAI,GAAI,CAAC,OAAQ,CAC9C,IAAKD,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACX,CACL,CAAC,GACe,IAChB,CCZA,MAAMC,EAAmB,SAAS,cAAc,UAAU,EAE1D,IAAIC,EAAW,IAAIC,EAAe,aAAc,CAC5C,aAAc,MACd,aAAc,GAClB,CAAC,EAEM,SAASC,EAAaC,EAAQ,CAEjC,MAAMC,EAASD,EAAO,IAAIE,GAAS,CAC/B,KAAM,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,EAAGP,EAC3EQ,EAAWL,EAAK,MAAM,IAAI,EAAE,KAAK,IAAI,EAenD,MAbI;AAAA,eACWD,CAAa;AAAA,gBACZD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,mBAGvBK,CAAQ;AAAA,oBACPJ,CAAK;AAAA,oBACLC,CAAK;AAAA,uBACFC,CAAQ;AAAA,wBACPC,CAAS;AAAA;AAAA;AAAA,CAKjC,CAAI,EAAE,KAAK,EAAE,EAETb,EAAiB,UAAYK,EAC7BJ,EAAS,QAAO,CACpB,CAEO,SAASc,GAAe,CAC3Bf,EAAiB,UAAY,EACjC,CAEO,SAASgB,GAAa,CACzB,SAAS,cAAc,SAAS,EAAE,UAAU,OAAO,QAAQ,CAC/D,CAEO,SAASC,GAAa,CACzB,SAAS,cAAc,SAAS,EAAE,UAAU,IAAI,QAAQ,CAC5D,CCzCA,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQD,EAAK,SAAS,aAAa,EAEzCA,EAAK,iBAAiB,SAAU,MAAME,GAAS,CAC3CA,EAAM,eAAc,EAEpB,MAAMrB,EAAQoB,EAAM,MAAM,KAAI,EAE9B,GAAI,CAACpB,EAAO,CACRsB,EAAS,MAAM,CACX,MAAO,QACP,QAAS,qCACrB,CAAS,EACL,MACC,CACD,GAAI,CACAN,IACAC,IACA,MAAMM,EAAO,MAAMxB,EAAiBC,CAAK,EAEzC,GAAIuB,EAAK,KAAK,SAAW,EAAG,CACxBD,EAAS,QAAQ,CACb,MAAO,OACP,QAAS,qCACzB,CAAa,EACD,MACH,CACD,QAAQ,IAAIC,EAAK,IAAI,EACrBnB,EAAamB,EAAK,IAAI,CACzB,MAAe,CACZD,EAAS,MAAO,CACZ,MAAO,QACP,QAAS,+CACrB,CAAS,CACT,QAAc,CACNJ,GACH,CACL,CAAC"}